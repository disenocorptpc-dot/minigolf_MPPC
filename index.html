<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minigolf Pirata - Punta Cana</title>
    <link rel="icon" href="assets/images/favicon.webp">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Pirata+One&family=Cormorant+Garamond:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">


    <!-- Meta Tags for Link Preview -->
    <meta property="og:title" content="Minigolf Punta Cana - El BotÃ­n de los 100 AÃ±os">
    <meta property="og:description"
        content="Descubre la leyenda de BarbajÃ¡n y Barbecue, y encuentra el tesoro escondido en el mejor minigolf de Punta Cana.">
    <!-- Use absolute URL for link preview on WhatsApp/Socials -->
    <meta property="og:image" content="https://minigolf-mppc.vercel.app/assets/images/link_preview.webp">
    <meta property="og:url" content="https://minigolf-mppc.vercel.app">
    <meta property="og:type" content="website">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="app-container">
        <!-- Audio Player -->
        <audio id="bg-music" loop>
            <source src="assets/audio/background.mp3" type="audio/mpeg">
        </audio>
        <div class="audio-controls">
            <button id="music-toggle">ðŸ”‡</button>
        </div>


        <!-- Navigation Header -->

        <!-- Navigation Header -->
        <header class="main-header">
            <div class="nav-ribbon" data-target="home">Home</div>
            <div class="nav-ribbon" data-target="characters">Personajes</div>
            <div class="logo-container">
                <img src="assets/images/logo.webp" alt="Minigolf Punta Cana" class="main-logo">
            </div>
            <!-- Separados Mapa y Recursos, sin spacer ya que ahora son 2 a la izquierda, 2 a la derecha -->
            <div class="nav-ribbon" data-target="map">Mapa</div>
            <div class="nav-ribbon" data-target="resources">Recursos</div>
        </header>



        <!-- Center Content Area -->
        <main class="content-area">

            <!-- Tiling Overlay (Absolute Positioned, stays in bottom left) -->
            <div id="tilin-overlay" class="character-overlay">
                <img src="assets/images/tilin.webp" alt="Tilin el Loro">
            </div>

            <!-- Active Character Display (When character/map item selected) -->
            <div id="active-character-display" class="hidden-character-display">
                <img id="active-char-img" src="" alt="Active Character">
            </div>

            <!-- Book Container Wrapper for Flex Centering -->
            <div class="book-flex-wrapper">

                <!-- Scrollable Story Section (Used for Home, Character Details, Map Details) -->
                <section id="story-section" class="active-section">
                    <div class="story-container">
                        <!-- Content Wrapper -->
                        <div class="story-content-wrapper"
                            style="width:100%; height:100%; display:flex; flex-direction:column;">
                            <div class="story-content" id="dynamic-story-content"
                                style="flex-grow:1; overflow-y:auto; overflow-x:hidden;">
                                <!-- Content injected via JS -->
                            </div>
                            <!-- Pagination Controls (Added) -->
                            <div class="story-pagination"
                                style="display:none; margin-top: auto; padding-top: 10px; border-top: 2px solid var(--color-ink); justify-content: space-between; align-items: center;">
                                <button id="prev-page-btn" style="visibility: hidden;">Anterior</button>
                                <span id="page-indicator">1 / 3</span>
                                <button id="next-page-btn">Siguiente</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Character Section (Hidden by default) -->
                <section id="characters-section" class="hidden-section">
                    <h2>La TripulaciÃ³n</h2>
                    <div class="character-grid">
                        <!-- Cards injected via JS -->
                    </div>
                </section>

                <!-- NEW: Map Section (Grid of Odyssey Chapters) -->
                <section id="map-section" class="hidden-section" style="flex-direction:column; align-items:center;">
                    <h2 class="map-heading">La Ruta del Tesoro</h2>
                    <div class="map-grid">
                        <!-- Map Icons injected via JS -->
                    </div>
                </section>

            </div>

            <!-- Resources Section (Moved from Footer) -->
            <section id="resources-section" class="hidden-section">
                <div class="treasure-chest">
                    <div class="chest-content">
                        <div class="resource-item">
                            <span>Mapa del Tesoro</span>
                            <button>Descargar</button>
                        </div>
                        <!-- Banner Image -->
                        <div class="banner-wrapper"></div>
                        <div class="resource-item">
                            <span>Puzzles</span>
                            <button>Descargar</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="js/script.js"></script>
</body>

</html>